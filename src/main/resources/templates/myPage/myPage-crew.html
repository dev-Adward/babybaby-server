<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지-통솔자 지원</title>
</head>
<!--css 연결하는곳-->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap"
  rel="stylesheet"
/>
<link rel="stylesheet" href="/css/components/header.css">
<link rel="stylesheet" href="/css/components/footer.css">
<link rel="stylesheet" href="/css/myPage/myPage-banner.css" >
<link rel="shortcut icon" href="/images/logo_favi/favi/favicon.ico">


<body>
<div th:insert="~{components/header:: header}"></div>
	<form action="/mypage/crew" method="post">
    <div class="body1" data-react-modal-body-trap="" tabindex="0" style="position: absolute; opacity: 0;"></div>
    <div id="root">
        <div id="AppLayout_Container" class="Layout">
            <div class="Layout_main">
                <div id="AppLayout_Contents" class="Contents">
                    <div id="container" class="ContentsLayout">
                        <div class="MyPage">
                            <ol class="MyPage_container">
                                <li class="MyPage_sub">마이페이지</li>
                                <li class="MyPage_sub">통솔자 지원</li>
                            </ol>
                            <!-- 제출 버튼 -->
	                        <div class="HeaderLayout">
	                            <div class="HeaderLayout_contents">
	                                <h2 class="Container_title">통솔자 지원
	                                    <button id="bottom-button" type="submit">
	                                        <span id="button-inner-text">
	                                            <span id="button-icon">
	                                                <svg viewBox="0 0 32 32" focusable="false" role="presentation" class="withIcon_icon__1VB4W" aria-hidden="true"><path d="M30.4 15.2H16.8V1.6h-1.6v13.6H1.6v1.6h13.6v13.6h1.6V16.8h13.6v-1.6z"></path></svg>
	                                                <span id="button-text">
	                                                    신청 하기
	                                                </span>
	                                            </span>
	                                        </span>
	                                    </button>
	                                 </h2>
	                            </div>
	                        </div>
	                        <!-- 기간 선택 -->
							<select name="memberGuideInterest" id="option-select"  class="option-select">
								<option value="">* 지원 분야 선택</option>
								<option value="ALL">* 전체</option>
								<option value="AGRICULTURE">농촌</option>
								<option value="TRADITION">전통</option>
								<option value="CRAFT">공방</option>
								<option value="SCIENCE">과학</option>
								<option value="MUSEUM">박물관</option>
								<option value="SPORTS">스포츠</option>
								<option value="ART">예술</option>
							</select>
							<select name="memberGuideType" id=""  class="as">
								<option value="">* 통솔자 선택</option>
								<option value="DISABLED">비 장애인</option>
								<option value="NON_DISABLED">장애인</option>
							</select>

                       		 <!-- 글 내용 -->
							<section class="Section_contents" style="max-width: 720px;">
								<div class="Section_header1 Section_header2">
								    <h2 class="Section_title">자기 소개</h2>
								    <div class="Section_guide">
								        <div class="HelperMessage">
								            <a class="link link2 link3" href="https://www.wadiz.kr/link/funding_story_guide1" target="_blank" rel="nofollow noopener noreferrer" data-ga-category="" data-ga-action="클릭">작성 가이드
								                <svg viewBox="0 0 40 40" focusable="false" role="presentation" class="withIcon_icon__3lrgp_withIcon_inline__3A3d_icon" aria-hidden="true" style="width: 14px; height: 14px;">
								                    <path d="M31.42 35.84h-27V8.4h14.76v-2H2.42v31.44h31V22.55h-2v13.29z"></path>
								                    <path d="M37.32 15.41l-.01-13-12.99.01v2l9.72-.01-18.19 19.42 1.46 1.37 18-19.22.01 9.43h2z"></path>
								                </svg>
								            </a>
								            <a class="link" href="https://www.wadiz.kr/link/preorder_story_guide" target="_blank" rel="nofollow noopener noreferrer" data-ga-category="" data-ga-action="클릭">작성 가이드
								                <svg viewBox="0 0 40 40" focusable="false" role="presentation" class="withIcon_icon__3lrgp withIcon_inline__3A3d_ icon" aria-hidden="true" style="width: 14px; height: 14px;">
													<path d="M31.42 35.84h-27V8.4h14.76v-2H2.42v31.44h31V22.55h-2v13.29z"></path>
													<path d="M37.32 15.41l-.01-13-12.99.01v2l9.72-.01-18.19 19.42 1.46 1.37 18-19.22.01 9.43h2z"></path>
												</svg>
											</a>
										</div>
									</div>
								</div>
								<div class="Section_content">
		                            <div color="basic" class="MessageBox">
		                                <span>
		                                    <svg viewBox="0 0 40 40" focusable="false" role="presentation" class="withIcon" aria-hidden="true">
		                                        <path fill="none" d="M0 0h40v40H0z"></path>
		                                        <path d="M20 1a19 19 0 1 0 19 19A19.06 19.06 0 0 0 20 1zm1 28.6h-2v-13h2zm-1-15.84A1.8 1.8 0 1 1 21.8 12a1.8 1.8 0 0 1-1.8 1.76z"></path>
		                                    </svg>
		                                </span>
		                                <div class="MessageBox_content"></div>
										<p class="MessageBox_title">아이들에게 전달돼요!</p>
										<div class="MessageBox_description">
											<ul>
	                                            <li class="imagenotice">20자 이내로 작성해주세요.</li>
	                                            <li class="imagenotice">부적절한 단어는 지양해주세요.</li>
											</ul>
										</div>
									</div>
		                            </div>
								</section>
								<section class="Section_contents2">
									<div style="max-width: 600px;">
							             <div class="Section_content">
							                 <div class="SummaryField">
							                     <div class="FieldTextarea">
							                         <div class="wide_column1"></div>
							                         <div class="wide_column2">
							                             <div class="wz input">
							                                 <textarea placeholder="내용" helper="[object Object]"  name="memberHiSentence" rows="3" class="contentData"></textarea>
							                             </div>
							                             <div class="content-warning">
							                             	<p>필수 정보 입니다.</p>
							                             </div>
							                         </div>
							                     </div>
							                 </div>
							             </div>
							         </div>
								</section>
									<div class="Loader"></div>
									<section class="Section_contents2">
										<div style="max-width: 600px;">
											<div class="Section_header1">
												<h2 class="Section_title">이력서 제출</h2>
												<div class="Section_guide"></div>
											</div>
											<div class="Section_description">이력서 등록</div>
											<div class="Section_content">
												<div class="ImageField">
													<div class="ImageField_Form">
														<div class="buttonWrapper">
															<label class="ImageFileButton">
																<button type="button" class="Button_gray" id="photosubmit">
																	<i class="icon-camera-o" aria-hidden="true"></i>등록하기
																</button>
																<div class="Input_right">
																	<input type="file" id="resume" accept=".pdf,.doc,.docx" onchange="setResume(event);" multiple />
																</div>
															</label>
															<em class="helper error"></em>
															<em class="helper_ImageFormField">2MB 이하의 PDF, DOC, DOCX 파일</em>
															<div id="resume_container"></div>
															<div id="image_container"></div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</section> 
							</div>
	                    </div>
	                </div>
	            </div>
	        </div>
	    </div>
		<div class="modal-wrapper" style="display: none;">
			<div class="modal">
			  <h2 class="modal__title">신청이 완료되었습니다.</h2>
			  <p class="modal__message">감사합니다! 신청이 성공적으로 처리되었습니다.</p>
			  <button class="modal__button" onclick="closeModal()">확인</button>
			</div>
		</div>
	</form>
<!-- test -->
<!-- HTML 코드 -->

<div th:insert="~{components/footer:: footer}"></div>
</body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="/js/myPage/myPage-banner.js"></script>
<script src="/js/components/header.js"></script>
<script>
	/* 프로필 설정 */
	$("#profile__label").on("change", function() {
		// 파일 찾아오기
		const $files = $(this)[0].files[0];
		let formData = new FormData();
		let uuid = [];
		let path = [];
		let orgName = [];

		formData.append("file", $files);

		/* fileController 보내기 */
		$.ajax({
			url: "/resume/upload",
			type: "post",
			data: formData,
			contentType: false,
			processData: false,
			success: function (data) {
				let userFile = {
					"fileUuid": data.uuids[0],
					"filePath": data.paths[0],
					"fileOrgName": data.orgNames[0]
				}
				$.ajax({
					url: "/mypage/user/profile-update",
					data: userFile,
					success: function() {
						location.reload();
					}
				})
			}
		})
	});
</script>
</html>